<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Grapple Games Randomiser</title>
    <link href="https://fonts.googleapis.com/css2?family=Bangers&family=Inter:wght@300;400;600;700&display=swap"
        rel="stylesheet">

    <style>
        :root {
            --bg-page: #f4f4f7;
            --bg-panel: #ffffff;
            --bg-panel-soft: #fafafa;

            --accent-main: #ff2d95;
            /* graffiti pink */
            --accent-secondary: #06b6d4;
            /* teal */
            --accent-chaos: #a855f7;
            /* purple for chaos deck if you want it later */

            --text-main: #111827;
            --text-subtle: #6b7280;

            --border-soft: rgba(15, 23, 42, 0.08);
            --shadow-soft: 0 10px 30px rgba(15, 23, 42, 0.12);
            --shadow-strong: 0 16px 40px rgba(15, 23, 42, 0.16);
        }

        * {
            box-sizing: border-box;
        }

        body {
            margin: 0;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            font-family: "Inter", system-ui, -apple-system, BlinkMacSystemFont, sans-serif;
            color: var(--text-main);
            overflow-x: hidden;
            background:
                radial-gradient(circle at top left, rgba(255, 45, 149, 0.12), transparent 55%),
                radial-gradient(circle at bottom right, rgba(6, 182, 212, 0.12), transparent 55%),
                var(--bg-page);
        }

        /* HEADER */

        header {
            padding: 1.1rem 1.25rem;
            background:
                linear-gradient(90deg, rgba(255, 255, 255, 0.9), rgba(248, 250, 252, 0.98)),
                radial-gradient(circle at top left, rgba(255, 45, 149, 0.2), transparent 60%);
            border-bottom: 1px solid rgba(148, 163, 184, 0.35);
            text-align: center;
            position: sticky;
            top: 0;
            z-index: 10;
            backdrop-filter: blur(10px);
        }

        header span {
            font-family: "Bangers", system-ui, sans-serif;
            font-size: 2.1rem;
            letter-spacing: 2px;
            text-transform: uppercase;
            color: var(--accent-main);
            text-shadow:
                -2px -2px 0 #ffffff,
                2px 2px 0 #ffffff,
                0 0 10px rgba(255, 45, 149, 0.45);
            display: inline-block;
            transform: skewX(-4deg);
        }

        .app-logo {
            display: block;
            margin: 0 auto;
            max-width: 220px;
            width: 100%;
            height: auto;
        }

        /* Mobile */
        @media (max-width: 768px) {
            .app-logo {
                max-width: 160px;
            }
        }

        /* LAYOUT */

        main {
            flex: 1;
            padding: 1rem 1.25rem 1.5rem;
            display: flex;
            gap: 1rem;
            max-width: 1100px;
            margin: 0 auto;
        }

        /* LEFT PANEL – SCENARIO LIST */

        .left-panel {
            width: 32%;
            max-height: calc(100vh - 160px);
            padding: 0.9rem;
            border-radius: 18px;
            background:
                radial-gradient(circle at top left, rgba(255, 45, 149, 0.16), transparent 60%),
                var(--bg-panel);
            border: 1px solid var(--border-soft);
            box-shadow: var(--shadow-soft);
            overflow-y: auto;
        }

        .left-panel>div {
            font-size: 0.85rem;
            color: var(--text-subtle);
            margin-bottom: 0.5rem;
        }

        .left-panel>div strong {
            color: var(--accent-secondary);
        }

        .scenario-item {
            display: flex;
            gap: 0.55rem;
            padding: 0.75rem 0.65rem;
            border-radius: 12px;
            margin-bottom: 0.4rem;
            cursor: pointer;
            background: var(--bg-panel-soft);
            border: 1px solid transparent;
            transition:
                background 0.16s ease,
                transform 0.12s ease,
                box-shadow 0.16s ease,
                border-color 0.16s ease;
        }

        .scenario-item:hover {
            background: #f9fafb;
            transform: translateY(-1px);
            box-shadow: 0 6px 14px rgba(15, 23, 42, 0.12);
        }

        .scenario-item.active {
            background: linear-gradient(115deg,
                    rgba(255, 45, 149, 0.08),
                    rgba(6, 182, 212, 0.08));
            border-color: rgba(255, 45, 149, 0.6);
            box-shadow: 0 0 0 1px rgba(255, 45, 149, 0.3), 0 8px 20px rgba(15, 23, 42, 0.16);
            transform: translateY(-1px) scale(1.01);
        }

        .scenario-index {
            font-weight: 800;
            color: var(--accent-main);
            min-width: 26px;
            text-align: right;
        }

        .scenario-text-main {
            font-weight: 600;
            font-size: 0.95rem;
            margin-bottom: 0.1rem;
        }

        .scenario-text-sub {
            font-size: 0.8rem;
            color: var(--text-subtle);
        }

        /* RIGHT PANEL – CURRENT CARD */

        .right-panel {
            flex: 1;
            border-radius: 20px;
            padding: 1.15rem 1.15rem 1.3rem;
            background:
                radial-gradient(circle at top right, rgba(6, 182, 212, 0.15), transparent 60%),
                var(--bg-panel);
            border: 1px solid var(--border-soft);
            box-shadow: var(--shadow-strong);
            display: flex;
            flex-direction: column;
            gap: 0.8rem;
        }

        .controls {
            display: flex;
            gap: 0.6rem;
            align-items: center;
            margin-bottom: 0.2rem;
            flex-wrap: wrap;
        }

        /* BUTTONS / SELECT */

        .btn {
            border-radius: 999px;
            border: none;
            padding: 0.55rem 1.1rem;
            font-weight: 700;
            font-size: 0.85rem;
            letter-spacing: 0.06em;
            text-transform: uppercase;
            cursor: pointer;
            background: linear-gradient(135deg, var(--accent-main), #fb7185);
            color: #ffffff;
            box-shadow:
                0 10px 20px rgba(248, 113, 113, 0.45),
                0 0 0 1px rgba(148, 27, 97, 0.35);
            transition:
                transform 0.12s ease,
                box-shadow 0.16s ease,
                filter 0.16s ease;
        }

        .btn:hover {
            transform: translateY(-1px);
            filter: brightness(1.03);
            box-shadow:
                0 12px 24px rgba(251, 113, 133, 0.55),
                0 0 0 1px rgba(148, 27, 97, 0.45);
        }

        .btn:active {
            transform: translateY(1px);
            box-shadow:
                0 4px 10px rgba(148, 27, 97, 0.35),
                0 0 0 1px rgba(148, 27, 97, 0.65);
        }

        #deckSelector {
            padding: 0.5rem 1rem;
            padding-right: 2.4rem;
            /* a touch more space */
            font-size: 0.85rem;
            border-radius: 999px;
            border: 1px solid rgba(148, 163, 184, 0.8);
            background: #f9fafb;
            color: var(--text-main);
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 0.05em;
            box-shadow: 0 4px 10px rgba(148, 163, 184, 0.3);
            appearance: none;
            cursor: pointer;

            /* stronger arrow */
            background-image:
                linear-gradient(45deg, transparent 50%, #111827 50%),
                linear-gradient(135deg, #111827 50%, transparent 50%);
            background-position:
                calc(100% - 18px) calc(50% - 2px),
                calc(100% - 12px) calc(50% - 2px);
            background-size: 7px 7px, 7px 7px;
            background-repeat: no-repeat;

            transition: box-shadow 0.15s ease, border-color 0.15s ease;
        }

        #deckSelector:hover,
        #deckSelector:focus {
            border-color: var(--accent-main);
            box-shadow:
                0 6px 14px rgba(255, 45, 149, 0.25),
                0 0 0 2px rgba(255, 45, 149, 0.15);
            outline: none;
        }

        /* MOBILE TOGGLE BUTTON (SHOW/HIDE LIST) */

        .toggle-list-btn {
            background: linear-gradient(135deg, var(--accent-secondary), #22c55e);
            color: #022c22;
            border: 1px solid rgba(16, 185, 129, 0.7);
            margin-bottom: 0.5rem;
            display: none;
            /* desktop hidden */
            box-shadow:
                0 8px 18px rgba(16, 185, 129, 0.35),
                0 0 0 1px rgba(22, 163, 74, 0.5);
        }

        /* CARD */

        .card {
            padding: 1.05rem 1.05rem 1.2rem;
            background:
                radial-gradient(circle at top left, rgba(255, 237, 213, 0.75), transparent 65%),
                #ffffff;
            border-radius: 18px;
            border: 1px solid rgba(148, 163, 184, 0.35);
            box-shadow:
                0 10px 26px rgba(15, 23, 42, 0.15),
                0 0 0 1px rgba(255, 255, 255, 0.8);
            animation-duration: 0.35s;
        }

        @keyframes pop {
            0% {
                transform: scale(0.97) translateY(3px);
                opacity: 0.8;
            }

            100% {
                transform: scale(1) translateY(0);
                opacity: 1;
            }
        }

        .animate-pop {
            animation-name: pop;
        }

        #currentIndexLabel {
            font-size: 0.8rem;
            letter-spacing: 0.18em;
            text-transform: uppercase;
            color: var(--accent-secondary);
            margin-bottom: 0.1rem;
        }

        #currentTitle {
            margin: 0.2rem 0 0.35rem;
            font-size: 1.35rem;
            font-weight: 700;
            letter-spacing: 0.03em;
        }

        #currentTags {
            font-size: 0.8rem;
            color: var(--text-subtle);
            margin-bottom: 0.45rem;
        }

        #currentBody {
            font-size: 0.95rem;
            line-height: 1.55;
            margin-bottom: 0.55rem;
        }

        #currentTip {
            font-size: 0.9rem;
            margin-bottom: 0.7rem;
            padding-left: 0.55rem;
            border-left: 3px solid var(--accent-main);
            color: #7c2d12;
            background: #fff7ed;
            border-radius: 4px;
        }

        #currentPills {
            display: flex;
            flex-wrap: wrap;
            gap: 0.3rem;
        }

        .pill {
            padding: 4px 9px;
            border-radius: 999px;
            font-size: 0.72rem;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 0.07em;
            background: #f9fafb;
            border: 1px solid rgba(148, 163, 184, 0.7);
            color: #0f766e;
            white-space: nowrap;
        }

        footer {
            padding: 0.75rem;
            text-align: center;
            font-size: 0.78rem;
            color: var(--text-subtle);
            background: rgba(249, 250, 251, 0.96);
            border-top: 1px solid rgba(209, 213, 219, 0.9);
        }

        /* MOBILE LAYOUT */

        @media (max-width: 768px) {
            main {
                flex-direction: column;
                padding: 0.7rem 0.75rem 1rem;
                gap: 0.7rem;
            }

            .left-panel {
                width: 100%;
                max-width: 100%;
                max-height: none;
                /* remove nested scrolling */
                overflow-y: visible;
                margin: 0 auto 0.5rem auto;
                padding: 0.75rem;
            }

            .right-panel {
                width: 100%;
                max-width: 100%;
                margin: 0 auto;
                padding: 0.9rem 0.85rem 1.1rem;
            }

            .card {
                padding: 0.9rem 0.85rem 1.1rem;
                width: 100%;
                box-sizing: border-box;
            }

            .controls {
                flex-direction: column;
                align-items: stretch;
                gap: 0.45rem;
            }

            .btn,
            #deckSelector {
                width: 100%;
                justify-content: center;
                text-align: center;
            }

            #currentTitle {
                font-size: 1.25rem;
            }

            #currentBody {
                font-size: 0.92rem;
            }

            .toggle-list-btn {
                display: block;
                /* show on mobile */
            }

            .left-panel.collapsed #scenarioList {
                display: none;
            }

            .pill {
                white-space: normal;
            }
        }
    </style>

</head>

<body>
    <header>
        <img src="./logo.svg" alt="App logo" class="app-logo" />
    </header>

    <main>
        <div class="left-panel">
            <div style="margin-bottom: 0.5rem;">
                <strong id="totalCount">0</strong> Scenarios
            </div>

            <!-- Mobile: toggle scenario list -->
            <button id="toggleListBtn" class="btn toggle-list-btn" type="button">
                Hide Scenarios
            </button>

            <ul id="scenarioList" style="list-style: none; padding: 0; margin: 0;"></ul>
        </div>

        <div class="right-panel">
            <div class="controls">

                <!-- DECK SELECTOR -->
                <select id="deckSelector" class="btn"
                    style="padding:6px 12px; font-size:0.85rem; background:#111827; color:#e5e7eb; border:1px solid #334155; box-shadow:none;">
                    <option value="wildcards">Wildcards</option>
                    <option value="gi">Gi Positions</option>
                    <option value="nogi">No-Gi Positions</option>
                    <option value="chaos">Chaos Deck</option>
                </select>

                <button id="randomBtn" class="btn" type="button">Random</button>
            </div>

            <div id="currentCard" class="card">
                <div id="currentIndexLabel" style="font-size:0.9rem; opacity:0.8;">Scenario X / Y</div>
                <h2 id="currentTitle" style="margin: 0.2rem 0;"></h2>
                <div id="currentTags" style="opacity: 0.8; margin-bottom:0.5rem;"></div>
                <div id="currentBody" style="margin-bottom:0.7rem;"></div>
                <div id="currentTip" style="font-size:0.9rem; opacity:0.8; margin-bottom:0.7rem;"></div>
                <div id="currentPills"></div>
            </div>
        </div>
    </main>

    <footer>© HALF HUMAN 2025</footer>


    <script>
        /* ---------------------------------------------
           ALL FOUR DECKS
        ----------------------------------------------*/

        /* Wildcards (your original deck) */
        const wildcards = [   /* --- YOUR 20 SCENARIOS FROM MESSAGE ABOVE --- */



            /* ############# WILDCARD ARRAY PASTED EXACTLY AS YOU SUPPLIED ############# */
            {
                id: 1,
                title: "Defence Only",
                short: "No attacks. Frames, structure, timing and escapes.",
                description:
                    "You are not allowed to attack. No submissions, no sneaky “accidental” chokes. Your only job is frames, structure, timing and escape chains.",
                mode: "Defence",
                focus: "Survival & Escapes",
                type: "Constraint",
                tags: ["No submissions", "Build defensive layers", "Position before anything"],
                tip:
                    "Treat it like a live stress test of your worst positions. If you are muscling out, you are doing it wrong."
            },
            {
                id: 2,
                title: "Submissions Only",
                short: "You are only allowed to win by submission.",
                description:
                    "Positional control is allowed, but you are not “winning” unless you are actively hunting the submission. No stalling in mount or side just to look pretty.",
                mode: "Offence",
                focus: "Finishing Chains",
                type: "Constraint",
                tags: ["Attack mindset", "Chain attempts", "No stalling"],
                tip:
                    "If you hit a dominant position and are not immediately threatening something, you are wasting the round."
            },
            {
                id: 3,
                title: "Arm Locks Only",
                short: "Only joint locks on the arm count.",
                description:
                    "Kimuras, Americanas, armbars, straight arm locks, shoulder locks are all on the table. No chokes or leg locks.",
                mode: "Offence",
                focus: "Upper Limb Attacks",
                type: "Submission Filter",
                tags: ["Kimura trap chains", "Armbar transitions", "Shoulder locks"],
                tip:
                    "Use the arm attack threat to drag people out of position and open passes and back-takes, even if you do not finish."
            },
            {
                id: 4,
                title: "Chokes Only",
                short: "Only submissions that cut air or blood.",
                description:
                    "Any choke is fine: guillotines, RNC, loop chokes, collar chokes, Ezekiels. No joint locks, no heel hooks, no wrist locks.",
                mode: "Offence",
                focus: "Strangulations",
                type: "Submission Filter",
                tags: ["Front headlock", "Back control", "Collar grips"],
                tip:
                    "Think about how to control posture and alignment first. Good chokes are built on broken posture, not just squeeze."
            },
            {
                id: 5,
                title: "Top Game Only",
                short: "If you are not on top, your only job is to get on top.",
                description:
                    "You must hunt top position. If you get swept or pulled into guard, your objective is to stand, pass or otherwise get back on top immediately.",
                mode: "Positional Bias",
                focus: "Passing & Pressure",
                type: "Constraint",
                tags: ["Balance", "Base", "Guard passing"],
                tip:
                    "Aim for clean guard passes rather than scramble-and-fall tactics. Quality top game, not just falling on people."
            },
            {
                id: 6,
                title: "Bottom Game Only",
                short: "You commit to playing from bottom.",
                description:
                    "You must accept bottom. Pull guard, sit to guard or accept takedown. Your job is to off-balance, sweep and submit from bottom.",
                mode: "Positional Bias",
                focus: "Guard Development",
                type: "Constraint",
                tags: ["Unsexy guard work", "Sweeps", "Off-balancing"],
                tip:
                    "If you find yourself on top, attack quickly and then intentionally give the position back and rebuild from bottom."
            },
            {
                id: 7,
                title: "Start Belly Down",
                short: "You start in the nightmare.",
                description:
                    "Start prone, belly down, with your partner already connected (front headlock grip, seatbelt, or near back-take). Your job is to survive, build frames and turn in.",
                mode: "Defence",
                focus: "Scramble Survival",
                type: "Start Position",
                tags: ["Turtle", "Front headlock defence", "Back exposure"],
                tip:
                    "Protect your neck first, then your arms. Turn into them, not away, unless you are deliberately wrestling up."
            },
            {
                id: 8,
                title: "Start with Back Taken",
                short: "Hooks in, seatbelt on, you are behind on points and position.",
                description:
                    "One person starts with full back control: hooks in and seatbelt grip. Switch roles halfway through the round.",
                mode: "Structured Start",
                focus: "Back Escapes & Control",
                type: "Start Position",
                tags: ["Back retention", "Hand fighting", "Escape drills"],
                tip:
                    "For the attacker, assume you only get one or two chances to finish. For the defender, treat the first 5 seconds as life-or-death hand fighting."
            },
            {
                id: 9,
                title: "One-Hand Roll",
                short: "You only get one working arm.",
                description:
                    "You can only use one arm for grips, posts and frames. The other arm must stay close to the body and out of the way.",
                mode: "Handicap",
                focus: "Base & Hips",
                type: "Constraint",
                tags: ["Balance", "Hip mobility", "Efficient frames"],
                tip:
                    "Use your legs like a second pair of arms. If you are reaching with the good arm for everything, you have already lost the point."
            },
            {
                id: 10,
                title: "No Hands Roll",
                short: "Legs and torso only. No grabbing.",
                description:
                    "You are not allowed to grip or post with your hands. You can frame lightly with forearms, but no closed grips. Your legs and torso must do the real work.",
                mode: "Handicap",
                focus: "Leg Dexterity & Frames",
                type: "Constraint",
                tags: ["Guard retention", "Hip movement", "Core control"],
                tip:
                    "Think like a panda stuck on its back. Rotate, shrimp, invert, use hooks. Your hands are on holiday."
            },
            {
                id: 11,
                title: "No Knee-Walk",
                short: "You are banned from knee-shuffling your way through life.",
                description:
                    "You are not allowed to knee-walk or shuffle on your knees to chase position. You must adjust using toes, hips and proper movement instead of lazy kneeling.",
                mode: "Movement",
                focus: "Hips & Footwork",
                type: "Constraint",
                tags: ["Standing base", "Strong posting", "Better movement"],
                tip:
                    "If you catch yourself knee-walking, reset the position and give your partner an underhook or other small advantage as a penalty."
            },
            {
                id: 12,
                title: "Guard Pass Before Sub",
                short: "You cannot submit until you clearly pass the guard.",
                description:
                    "You must earn a clean guard pass (chest-to-chest or clear control) before you are allowed to attack submissions. No jumping on necks halfway through a scramble.",
                mode: "Positional Discipline",
                focus: "Passing Before Submitting",
                type: "Constraint",
                tags: ["Position before submission", "Control focus", "Cleaner chains"],
                tip:
                    "Use submissions to force the pass, but do not finish until you have obviously stabilised control."
            },
            {
                id: 13,
                title: "Submission Freeze",
                short: "Lock the sub, hold for 3 seconds, then finish.",
                description:
                    "When you lock a submission, you must hold it statically for a slow 3-count before applying the final pressure to finish.",
                mode: "Control",
                focus: "Tightness & Precision",
                type: "Constraint",
                tags: ["Control over speed", "Technical finishes", "Patience"],
                tip:
                    "If you cannot hold it still for 3 seconds, it was not really locked in the first place. Adjust before you squeeze."
            },
            {
                id: 14,
                title: "No Closed Guard",
                short: "Open guard only. No full lock-up.",
                description:
                    "You are not allowed to close your guard around your partner’s waist. All open guard variations are allowed: butterfly, lasso, DLR, half guard etc.",
                mode: "Guard Development",
                focus: "Dynamic Guard",
                type: "Constraint",
                tags: ["Hooks-based guard", "Angle changes", "Off-balancing"],
                tip:
                    "If you feel the urge to close guard, switch to an angle change and attack a sweep or off-balance instead."
            },
            {
                id: 15,
                title: "Wrestler’s Curse",
                short: "No backing away. Continuous forward engagement.",
                description:
                    "You are not allowed to disengage or back away. Hand fight, shoot, snap down, drive into passing or body lock – but you must stay engaged.",
                mode: "Pressure",
                focus: "Engagement & Takedowns",
                type: "Constraint",
                tags: ["Hand fighting", "Takedown entries", "Pressure passing"],
                tip:
                    "Forward pressure does not mean sprint blindly. Think smart aggression: posture, level change, penetration step, then chain to passes."
            },
            {
                id: 16,
                title: "Lazy Cat Guard",
                short: "Stay seated. Everything from a seated base.",
                description:
                    "You must stay seated and work from seated guard. You can scoot, invert, off-balance and wrestle up, but you cannot stand fully.",
                mode: "Guard Development",
                focus: "Seated Guard",
                type: "Constraint",
                tags: ["Wrestle-ups", "Leg entanglements", "Angle changes"],
                tip:
                    "Use your seated position like a jab: constantly adjusting distance with your hips and hooks, never just waiting."
            },
            {
                id: 17,
                title: "Grip Tax",
                short: "One grip per exchange. Once you let go, it is gone.",
                description:
                    "You are only allowed one meaningful grip per sequence. Once you release a grip, you cannot re-take that same grip in the same exchange.",
                mode: "Handicap",
                focus: "Grip Discipline",
                type: "Constraint",
                tags: ["Grip selection", "Efficiency", "Tactical gripping"],
                tip:
                    "Choose grips that control posture or direction, not convenience grips. If the grip does not change the position, it is wasted tax."
            },
            {
                id: 18,
                title: "Reverse Base",
                short: "Every time you hit a dominant position, you must give them a small advantage.",
                description:
                    "Whenever you reach a dominant position (mount, side, back, strong half), you must gift your partner a small advantage: underhook, deep frame, leg inside, or collar grip.",
                mode: "Hard Mode",
                focus: "Control Under Adversity",
                type: "Constraint",
                tags: ["Micro-adjustments", "Breaking frames", "Advanced control"],
                tip:
                    "Think of it as training for when people actually know what they are doing. You are practising keeping control even when they have good frames and grips."
            },
            {
                id: 19,
                title: "No Submissions, Just Suffering",
                short: "You cannot submit. You can only dominate with position and pressure.",
                description:
                    "You are not allowed to submit your partner. Your goal is to progressively cook them with pinning, transitions and pressure without chasing the tap.",
                mode: "Control",
                focus: "Positional Dominance",
                type: "Constraint",
                tags: ["Pressure", "Transitions", "Ride time"],
                tip:
                    "If you are bored, good. Stay there longer and see if you can make them burn energy for no reward."
            },
            {
                id: 20,
                title: "30-Second Hell Start",
                short: "Start in a bad spot and survive the first 30 seconds.",
                description:
                    "Your partner chooses a dominant position (mount, side, back, tight body lock from top). The round starts with you already losing. Survive and escape.",
                mode: "Defence",
                focus: "Panic Management",
                type: "Start Position",
                tags: ["Bad position tolerance", "Calm under pressure", "Escape timing"],
                tip:
                    "Make the first breath slow and deliberate. No spazzing for the first 5 seconds – frames first, then movement."
            }
        ];

        /* ---------------------------------------------
           GI POSITIONS ARRAY
        ----------------------------------------------*/
        const giPositions = [
            {
                id: 1,
                title: "Closed Guard – Collar & Sleeve Control",
                short: "Bottom has cross-collar + sleeve grip.",
                description:
                    "Bottom sets closed guard with strong collar-and-sleeve control. Top must posture and break grips. Bottom hunts off-balances and attacks.",
                mode: "Gi",
                focus: "Guard Attacks & Posture Breaking",
                type: "Position",
                tags: ["Closed guard", "Collar grip", "Sleeve control"],
            },
            {
                id: 2,
                title: "De La Riva – Sleeve & Ankle",
                short: "Classic DLR with sleeve grip.",
                description:
                    "Bottom plays DLR with sleeve and ankle control. Top starts mid-stance. Bottom aims to off-balance into sweep or back-take. Top looks to clear hooks and knee-slice.",
                mode: "Gi",
                focus: "Dynamic Guard",
                type: "Position",
                tags: ["DLR", "Sweeps", "Passing battle"],
            },
            {
                id: 3,
                title: "Lasso Guard – One Lasso, One Sleeve",
                short: "Strong lasso position.",
                description:
                    "Bottom has a deep lasso on one side and sleeve control on the other. Top must strip grips and work angles.",
                mode: "Gi",
                focus: "Grip Fighting",
                type: "Position",
                tags: ["Lasso", "Gi control", "Off-balancing"],
            },
            {
                id: 4,
                title: "Spider Guard – Double Sleeves",
                short: "Feet on biceps.",
                description:
                    "Bottom has double sleeve grips with classic spider guard. Top must break a leg line and pressure in.",
                mode: "Gi",
                focus: "Distance Control",
                type: "Position",
                tags: ["Spider guard", "Sleeve tension", "Angle play"],
            },
            {
                id: 5,
                title: "Open Guard – Collar & Pant Grip",
                short: "Hybrid open guard.",
                description:
                    "Bottom plays open guard with one collar and one pant grip. Top must neutralise grips and initiate passing.",
                mode: "Gi",
                focus: "Passing Initiation",
                type: "Position",
                tags: ["Collar grip", "Pant grip", "Open guard"],
            },
            {
                id: 6,
                title: "Half Guard – Underhook Battle",
                short: "Bottom underhook; top whizzer + pant grip.",
                description:
                    "Classic half guard duel where both players have meaningful gi grips. Bottom aims to come up; top prevents it and stabilises.",
                mode: "Gi",
                focus: "Underhook War",
                type: "Position",
                tags: ["Half guard", "Underhook", "Whizzer"],
            },
            {
                id: 7,
                title: "Knee Shield Half – Collar Grip Frame",
                short: "Bottom framing with collar grip.",
                description:
                    "Bottom uses knee shield + collar grip to manage distance. Top must beat frames without lazy knee-walking.",
                mode: "Gi",
                focus: "Frame Management",
                type: "Position",
                tags: ["Knee shield", "Collar frame"],
            },
            {
                id: 8,
                title: "Toreando – Double Pant Grips",
                short: "Top has pant grips; bottom supine.",
                description:
                    "Top starts with standing toreando grips. Bottom responds with inversions, hooks, or wrestle-ups.",
                mode: "Gi",
                focus: "Passing vs Retention",
                type: "Position",
                tags: ["Toreando", "Pant grips"],
            },
            {
                id: 9,
                title: "Headquarters – Pant Grip Variant",
                short: "Stapled leg and pant control.",
                description:
                    "Top is in HQ with pant control. Bottom has knee shield available to create space or off-balance.",
                mode: "Gi",
                focus: "Mid-Range Passing",
                type: "Position",
                tags: ["HQ", "Pant grip", "Frames"],
            },
            {
                id: 10,
                title: "Knee Cut – Cross-Collar Control",
                short: "Top has collar + underhook.",
                description:
                    "Top mid knee-cut with strong collar control. Bottom fights inside frames and hip escape angles.",
                mode: "Gi",
                focus: "Pressure Passing",
                type: "Position",
                tags: ["Knee cut", "Collar control"],
            },
            {
                id: 11,
                title: "Standing – Double Sleeve Grips",
                short: "Both players gripping sleeves.",
                description:
                    "Classic gi grip-fight start. Must transition to takedown or guard pull without stalling.",
                mode: "Gi",
                focus: "Standing Grips",
                type: "Position",
                tags: ["Sleeve grips", "Stand-up"],
            },
            {
                id: 12,
                title: "Standing – Collar Drag Threat",
                short: "One player has collar grip advantage.",
                description:
                    "Neutral standing position but one player has established a deep collar grip. Both must react accordingly.",
                mode: "Gi",
                focus: "Off-balancing",
                type: "Position",
                tags: ["Collar drag", "Entry work"],
            },
            {
                id: 13,
                title: "Mount – Cross Collar Setup",
                short: "Top holding low mount and collar.",
                description:
                    "Top has cross-collar control; bottom sets tight elbows and fights posture first.",
                mode: "Gi",
                focus: "Gi Chokes",
                type: "Position",
                tags: ["Mount", "Collar attacks"],
            },
            {
                id: 14,
                title: "Side Control – Far Collar Grip",
                short: "Top underhook + far-collar.",
                description:
                    "Top uses far-collar to isolate frames. Bottom tries to regard or escape to knees.",
                mode: "Gi",
                focus: "Top Control",
                type: "Position",
                tags: ["Side control", "Collar grip"],
            },
            {
                id: 15,
                title: "Back Control – Lapel Trap",
                short: "Top has seatbelt + fed lapel.",
                description:
                    "Top uses lapel to trap shoulder/arm. Bottom hand-fights for survival.",
                mode: "Gi",
                focus: "Back Attacks",
                type: "Position",
                tags: ["Back control", "Lapel wrap"],
            },
            {
                id: 16,
                title: "Turtle – Clock Choke Threat",
                short: "Top gripping collar behind shoulder.",
                description:
                    "Start in turtle with top already threatening clock-choke grips.",
                mode: "Gi",
                focus: "Submission Chains",
                type: "Position",
                tags: ["Clock choke", "Control"],
            },
            {
                id: 17,
                title: "S-Mount – Armbar Setup",
                short: "Top in S-mount over isolated arm.",
                description:
                    "Classic gi setup for armbar. Bottom must create wedges and turn in.",
                mode: "Gi",
                focus: "Arm Locks",
                type: "Position",
                tags: ["S-mount", "Armbar"],
            },
            {
                id: 18,
                title: "X-Guard – Pant Grip Entry",
                short: "Bottom in X with pant control.",
                description:
                    "Bottom off-balances into technical stand-up; top clears hooks.",
                mode: "Gi",
                focus: "Sweep Chains",
                type: "Position",
                tags: ["X-guard", "Pant grip"],
            },
            {
                id: 19,
                title: "Single Leg X – Sleeve & Pant Combo",
                short: "Bottom attacking SLX.",
                description:
                    "Gi friction changes off-balancing. Top must pummel legs intelligently.",
                mode: "Gi",
                focus: "Leg Entanglements",
                type: "Position",
                tags: ["SLX", "Off-balancing"],
            },
            {
                id: 20,
                title: "Lapel Entanglement – Worm Lite",
                short: "Simplified lapel wrap.",
                description:
                    "Bottom threads lapel under leg for control. Top must free knee line and unwind wrap.",
                mode: "Gi",
                focus: "Lapel Guard",
                type: "Position",
                tags: ["Lapel guard", "Entanglements"],
            },
        ];

        /* ---------------------------------------------
           NO-GI POSITIONS ARRAY
        ----------------------------------------------*/
        const nogiPositions = [
            {
                id: 1,
                title: "Seated Guard – Double Wrist Control",
                short: "Bottom seated; top standing.",
                description:
                    "Bottom establishes wrist control. Top breaks grips and initiates passing. Distance management is the main lesson.",
                mode: "No-Gi",
                focus: "Distance Management",
                type: "Position",
                tags: ["Seated", "Wrist control"],
            },
            {
                id: 2,
                title: "Shin-to-Shin Entry",
                short: "Bottom shin-to-shin; top mid-stance.",
                description:
                    "Bottom hunts wrestle-up or off-balance. Top looks to sprawl or staple leg to smash.",
                mode: "No-Gi",
                focus: "Entries",
                type: "Position",
                tags: ["Shin-to-shin", "Wrestle up"],
            },
            {
                id: 3,
                title: "Headquarters – No-Grip Variant",
                short: "One leg stapled; bottom framing.",
                description:
                    "Pure no-gi HQ. Top pressures in; bottom chases inside position.",
                mode: "No-Gi",
                focus: "Mid-Range Passing",
                type: "Position",
                tags: ["HQ", "Frames"],
            },
            {
                id: 4,
                title: "Knee Shield Half – No Gi",
                short: "Classic knee shield battle.",
                description:
                    "No gi friction means head position + hand fighting matter more than anything.",
                mode: "No-Gi",
                focus: "Frame vs Pressure",
                type: "Position",
                tags: ["Knee shield", "Shoulder pressure"],
            },
            {
                id: 5,
                title: "Deep Half Guard – No Gi",
                short: "Bottom deep; top wide base.",
                description:
                    "Without fabric, the sweep timing must be sharp. Top works to separate legs and cross-face.",
                mode: "No-Gi",
                focus: "Sweep Timing",
                type: "Position",
                tags: ["Deep half", "Timing"],
            },
            {
                id: 6,
                title: "Body Lock Pass Start",
                short: "Top locked around hips.",
                description:
                    "Top body-locks around hips; bottom frames on shoulders/hips to create wedges.",
                mode: "No-Gi",
                focus: "Pressure Passing",
                type: "Position",
                tags: ["Body lock", "Frames"],
            },
            {
                id: 7,
                title: "Front Headlock Control",
                short: "Top has chin strap + elbow.",
                description:
                    "Bottom must clear hands, peek out, or wrestle up. Top chains to guillotine or back takes.",
                mode: "No-Gi",
                focus: "Chokes & Scrambles",
                type: "Position",
                tags: ["Front headlock", "Guillotine threat"],
            },
            {
                id: 8,
                title: "Turtle – Seatbelt (No Gi)",
                short: "Top with seatbelt, no grips.",
                description:
                    "Top hunts hooks; bottom rolls, stands, or peels hands.",
                mode: "No-Gi",
                focus: "Back Takes",
                type: "Position",
                tags: ["Seatbelt", "Back take"],
            },
            {
                id: 9,
                title: "Back Control – Hooks or Body Triangle",
                short: "Pure hand fighting battle.",
                description:
                    "Top aims for RNC. Bottom prioritises wrist control and shoulder hiding.",
                mode: "No-Gi",
                focus: "Finish Mechanics",
                type: "Position",
                tags: ["Back control", "RNC"],
            },
            {
                id: 10,
                title: "Mount – High Mount (No Gi)",
                short: "Top sitting high; bottom bridging.",
                description:
                    "Top must keep knees tight and hands active. Bottom relies on frames and explosive bridging.",
                mode: "No-Gi",
                focus: "Control",
                type: "Position",
                tags: ["Mount", "Balance"],
            },
            {
                id: 11,
                title: "Side Control – Underhook War",
                short: "Bottom chasing underhook.",
                description:
                    "Top blocks head and hip. Bottom works underhook or guard recoveries.",
                mode: "No-Gi",
                focus: "Escapes & Control",
                type: "Position",
                tags: ["Side control", "Head control"],
            },
            {
                id: 12,
                title: "North-South – Arm Isolated",
                short: "Top controls far arm.",
                description:
                    "Attacks rely on movement, not fabric. Bottom must rotate and build frames.",
                mode: "No-Gi",
                focus: "Mobility",
                type: "Position",
                tags: ["North-south", "Isolation"],
            },
            {
                id: 13,
                title: "Single Leg X – No Gi Variant",
                short: "Pure hooks + angles.",
                description:
                    "Without pant grips, SLX depends on strong pinch, elevation, and kazushi.",
                mode: "No-Gi",
                focus: "Leg Entanglements",
                type: "Position",
                tags: ["SLX", "Entries"],
            },
            {
                id: 14,
                title: "Outside Ashi Garami",
                short: "Bottom controls heel line.",
                description:
                    "Top clears knee line; bottom exposes heel. Classic no-gi exchange start.",
                mode: "No-Gi",
                focus: "Leg Locks",
                type: "Position",
                tags: ["Ashi", "Heel exposure"],
            },
            {
                id: 15,
                title: "50/50 – No Gi Version",
                short: "Legs tangled; no grips.",
                description:
                    "Battle revolves around hand fighting, heel exposure, and back-step timing.",
                mode: "No-Gi",
                focus: "Entanglement Management",
                type: "Position",
                tags: ["50/50", "Hand fighting"],
            },
            {
                id: 16,
                title: "Standing – Collar Tie & Wrist",
                short: "Basic clinch start.",
                description:
                    "One player has collar tie; the other controls wrist. Pummelling and level changes determine momentum.",
                mode: "No-Gi",
                focus: "Takedown Entries",
                type: "Position",
                tags: ["Collar tie", "Wrestling"],
            },
            {
                id: 17,
                title: "Standing – Over-Under Clinch",
                short: "Classic grappling clinch.",
                description:
                    "Head position + pummelling decide who wins the first exchange.",
                mode: "No-Gi",
                focus: "Clinch",
                type: "Position",
                tags: ["Over-under", "Pummelling"],
            },
            {
                id: 18,
                title: "Standing – Double Unders (Top)",
                short: "Top has dominant inside control.",
                description:
                    "Bottom must immediately pummel out, create angles, or sprawl to deny body lock.",
                mode: "No-Gi",
                focus: "Dominant Clinch",
                type: "Position",
                tags: ["Double unders", "Pummelling"],
            },
            {
                id: 19,
                title: "Scramble Start – Knees Off Mat",
                short: "Hands on shoulders.",
                description:
                    "Both players active and upright on toes. Neutral scramble battle.",
                mode: "No-Gi",
                focus: "Reaction Time",
                type: "Position",
                tags: ["Scrambles", "Speed"],
            },
            {
                id: 20,
                title: "Wrestle-Up Battle – Seated vs Standing",
                short: "Bottom seated; top hand-fighting.",
                description:
                    "Bottom must wrestle up or sweep. Top must deny entries and pressure in.",
                mode: "No-Gi",
                focus: "Transitional Movement",
                type: "Position",
                tags: ["Wrestle up", "Hand fighting"],
            },
        ];
        /* ---------------------------------------------
                CHAOS ARRAY
        ----------------------------------------------*/
        const chaosDeck = [
            {
                id: 1,
                title: "Silent Round",
                short: "No talking. No grunting. Total silence.",
                description:
                    "You roll in complete silence. No coaching, no talking, no sound cues. Clear physical tap only.",
                mode: "Chaos",
                focus: "Composure & Awareness",
                type: "Behaviour",
                tags: ["No talking", "Internal calm", "Non-verbal awareness"],
                tip: "Feel how loud your mind gets when your mouth shuts up."
            },
            {
                id: 2,
                title: "Trash Talk Only",
                short: "You must keep talking the whole round.",
                description:
                    "You are not allowed to go quiet. Light commentary, humour, breath cues – but silence is banned.",
                mode: "Chaos",
                focus: "Breath & Cognitive Load",
                type: "Behaviour",
                tags: ["Continuous talk", "Cardio stress", "Mental load"],
                tip: "Use your words to regulate pace instead of hold your breath."
            },
            {
                id: 3,
                title: "Eyes Closed",
                short: "Grapple with no vision.",
                description:
                    "Eyes fully closed for the entire round. No peeking.",
                mode: "Chaos",
                focus: "Sensitivity & Balance",
                type: "Sensory",
                tags: ["Feel-based grappling", "Base", "No vision"],
                tip: "If you lose balance easily, you were relying on sight more than structure."
            },
            {
                id: 4,
                title: "One Word Coach",
                short: "Partner can only use one chosen word.",
                description:
                    "Your coach chooses one word before the round (‘breathe’, ‘hips’, ‘frames’) and may only say that word.",
                mode: "Chaos",
                focus: "Theme Reinforcement",
                type: "Coaching",
                tags: ["Minimal coaching", "Focus", "Constraint"],
                tip: "Let the word act like a metronome, not a distraction."
            },
            {
                id: 5,
                title: "Role Swap Round",
                short: "Imitate your partner’s style.",
                description:
                    "You must roll exactly like your partner – their pace, habits, strengths, even their mistakes.",
                mode: "Chaos",
                focus: "Pattern Awareness",
                type: "Behaviour",
                tags: ["Empathy", "Game study", "Predictability"],
                tip: "This shows you how obvious your own patterns are."
            },
            {
                id: 6,
                title: "Penalty Push-Ups",
                short: "Every reset = 3 push-ups.",
                description:
                    "Any disengagement to neutral forces both players to drop for 3 push-ups before resuming.",
                mode: "Chaos",
                focus: "Commitment & Conditioning",
                type: "Conditioning",
                tags: ["No lazy resets", "Cardio", "Discipline"],
                tip: "You’ll stop bailing on positions just to escape discomfort."
            },
            {
                id: 7,
                title: "Slow Motion Only",
                short: "You must move at 50 percent speed.",
                description:
                    "Everything happens in deliberate slow motion. No bursts, no speed spikes.",
                mode: "Chaos",
                focus: "Precision & Timing",
                type: "Tempo",
                tags: ["Slow roll", "Technical control", "Patience"],
                tip: "If it looks sloppy in slow-mo, it’s sloppy under pressure too."
            },
            {
                id: 8,
                title: "No Hands Top / No Legs Bottom",
                short: "Asymmetrical handicap.",
                description:
                    "Top player cannot use hands to grip or post. Bottom cannot use legs to attack (frames and retention only).",
                mode: "Chaos",
                focus: "Adaptation",
                type: "Handicap",
                tags: ["Asymmetry", "Creativity", "Problem-solving"],
                tip: "Forces creative entries and escapes instead of default patterns."
            },
            {
                id: 9,
                title: "45-Second Death Clock",
                short: "No progress = bottom starts in mount.",
                description:
                    "If there’s no clear advancement or threat after 45 seconds, you reset with bottom player in full mount.",
                mode: "Chaos",
                focus: "Urgency",
                type: "Time Rule",
                tags: ["Anti-stall", "Initiative", "Objective"],
                tip: "Make progress intentional instead of accidental."
            },
            {
                id: 10,
                title: "No Guard Pulling",
                short: "Stand-up battle only.",
                description:
                    "No intentional guard pull allowed for the whole round. Takedowns and forced scrambles only.",
                mode: "Chaos",
                focus: "Stand-Up",
                type: "Rule Change",
                tags: ["Wrestling", "Entry work", "Takedowns"],
                tip: "Perfect for guard players who hide from takedowns."
            },
            {
                id: 11,
                title: "Secret Win Condition",
                short: "Each player sets a hidden goal.",
                description:
                    "Each player privately chooses an objective before the round (e.g. sweep once, take the back). Reveal at the end.",
                mode: "Chaos",
                focus: "Intentionality",
                type: "Objective",
                tags: ["Hidden game", "Focus", "Strategy"],
                tip: "Adds strategy without announcing your plan out loud."
            },
            {
                id: 12,
                title: "You Lose If You Explode",
                short: "Any frantic movement = loss.",
                description:
                    "If someone uses a full-speed or uncontrolled scramble, they lose instantly.",
                mode: "Chaos",
                focus: "Calm Under Stress",
                type: "Behaviour",
                tags: ["No spazz", "Control", "Self-regulation"],
                tip: "Punishes panic scrambling and rewards real control."
            },
            {
                id: 13,
                title: "One-Limb Focus",
                short: "Hunt one limb all round.",
                description:
                    "Pick one limb before the round and make that your main target for control or attacks.",
                mode: "Chaos",
                focus: "Isolation",
                type: "Objective",
                tags: ["Micro battles", "Control", "Detail work"],
                tip: "Turns every position into a limb-control puzzle."
            },
            {
                id: 14,
                title: "Tap = Worse Position",
                short: "Tap resets you into a bad spot.",
                description:
                    "When someone taps, they restart immediately in a worse position (side → mount, mount → back).",
                mode: "Chaos",
                focus: "Resilience",
                type: "Rule Change",
                tags: ["No easy bailout", "Grit", "Bad spot tolerance"],
                tip: "Encourages intelligent defence instead of 'tap to reset'."
            },
            {
                id: 15,
                title: "No Technique Names",
                short: "Naming techniques is banned.",
                description:
                    "You cannot say any technique names out loud. Describe mechanics only.",
                mode: "Chaos",
                focus: "Principles",
                type: "Coaching",
                tags: ["Concepts", "Mechanics", "Language discipline"],
                tip: "Forces you to think in mechanics instead of memorised labels."
            }
        ];

        /* ---------------------------------------------
           STATE
        ----------------------------------------------*/
        let currentDeck = wildcards;
        let currentId = currentDeck[0].id;

        const currentIndexLabel = document.getElementById("currentIndexLabel");
        const currentTitle = document.getElementById("currentTitle");
        const currentTags = document.getElementById("currentTags");
        const currentBody = document.getElementById("currentBody");
        const currentTip = document.getElementById("currentTip");
        const currentPills = document.getElementById("currentPills");
        const randomBtn = document.getElementById("randomBtn");
        const scenarioList = document.getElementById("scenarioList");
        const totalCount = document.getElementById("totalCount");
        const currentCard = document.getElementById("currentCard");
        const leftPanel = document.querySelector(".left-panel");
        const toggleListBtn = document.getElementById("toggleListBtn");
        let isListCollapsed = false;

        /* ---------------------------------------------
           RENDER FUNCTIONS
        ----------------------------------------------*/
        function renderCurrent(id, animate = true) {
            const scenario = currentDeck.find((s) => s.id === id);
            if (!scenario) return;

            currentId = id;

            currentIndexLabel.textContent = `Scenario ${scenario.id} / ${currentDeck.length}`;
            currentTitle.textContent = scenario.title;
            currentTags.textContent = `Mode: ${scenario.mode} · Focus: ${scenario.focus}`;
            currentBody.textContent = scenario.description;
            currentTip.textContent = `Coaching cue: ${scenario.tip}`;

            currentPills.innerHTML = "";
            scenario.tags.forEach((tag) => {
                const pill = document.createElement("span");
                pill.className = "pill";
                pill.textContent = tag;
                currentPills.appendChild(pill);
            });

            document
                .querySelectorAll(".scenario-item")
                .forEach((item) =>
                    item.classList.toggle("active", Number(item.dataset.id) === id)
                );

            if (animate) {
                currentCard.classList.remove("animate-pop");
                void currentCard.offsetWidth;
                currentCard.classList.add("animate-pop");
            }
        }

        function renderList() {
            totalCount.textContent = currentDeck.length.toString();
            scenarioList.innerHTML = "";

            currentDeck.forEach((s) => {
                const li = document.createElement("li");
                li.className = "scenario-item";
                li.dataset.id = s.id;

                li.innerHTML = `
            <div class="scenario-index">${s.id}.</div>
            <div>
                <div class="scenario-text-main">${s.title}</div>
                <div class="scenario-text-sub">${s.short}</div>
            </div>
        `;

                li.addEventListener("click", () => renderCurrent(s.id, true));

                scenarioList.appendChild(li);
            });
        }

        /* ---------------------------------------------
           RANDOM
        ----------------------------------------------*/
        function randomScenario() {
            if (currentDeck.length <= 1) return;

            let nextId = currentId;
            while (nextId === currentId) {
                const idx = Math.floor(Math.random() * currentDeck.length);
                nextId = currentDeck[idx].id;
            }

            renderCurrent(nextId, true);
        }

        randomBtn.addEventListener("click", randomScenario);

        function updateListToggleLabel() {
            if (!toggleListBtn) return;
            toggleListBtn.textContent = isListCollapsed ? "Show Scenarios" : "Hide Scenarios";
        }

        if (toggleListBtn && leftPanel) {
            toggleListBtn.addEventListener("click", () => {
                isListCollapsed = !isListCollapsed;
                leftPanel.classList.toggle("collapsed", isListCollapsed);
                updateListToggleLabel();
            });
        }

        /* ---------------------------------------------
        DECK SELECTOR
        ----------------------------------------------*/
        document.getElementById("deckSelector").addEventListener("change", (e) => {
            const value = e.target.value;

            if (value === "wildcards") currentDeck = wildcards;
            else if (value === "gi") currentDeck = giPositions;
            else if (value === "nogi") currentDeck = nogiPositions;
            else if (value === "chaos") currentDeck = chaosDeck;

            currentId = currentDeck[0].id;
            renderList();
            renderCurrent(currentId, false);
        });

        /* ---------------------------------------------
        INIT
        ----------------------------------------------*/
        // On load, collapse list on mobile, keep open on desktop
        if (window.innerWidth <= 768 && leftPanel) {
            isListCollapsed = true;
            leftPanel.classList.add("collapsed");
        } else if (leftPanel) {
            isListCollapsed = false;
            leftPanel.classList.remove("collapsed");
        }
        updateListToggleLabel();

        renderList();
        renderCurrent(currentId, false);


    </script>
</body>

</html>
